package com.qualitymap.dao.impl;

import java.util.List;
import java.util.Map;

import org.hibernate.Session;
import org.hibernate.SessionFactory;
import org.hibernate.transform.Transformers;

import com.qualitymap.dao.ServicequalityOrgidPingDao;
import com.qualitymap.dao.ServicequalityOrgidWebbrowsingDao;

/**
 * 
 * @author kongxiangchun
 * 
 */
public class ServicequalityOrgidWebbrowsingDaoImpl implements ServicequalityOrgidWebbrowsingDao {

	private SessionFactory sessionFactory;

	
	
	public void setSessionFactory(SessionFactory sessionFactory) {
		this.sessionFactory = sessionFactory;
	}

	public Session getSession() {
		return sessionFactory.getCurrentSession();
	}

	/**
	 * 获取宽带品质监测报告详情
	 */
	@Override
	public List<Map<String, Object>> getPingReportItem(String groupid, String month, String broadband_type) {
		String sql = "select * from servicequality_orgid_webbrowsing where groupid='"+groupid+"' and month = '"+month+"' and broadband_type= '"+broadband_type+"' ";

		List<Map<String, Object>> queryList = this.getSession().createSQLQuery(sql).setResultTransformer(Transformers.ALIAS_TO_ENTITY_MAP).list();
		return queryList;
	}
	
}
